!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@inertiajs/inertia"),require("react")):"function"==typeof define&&define.amd?define(["exports","@inertiajs/inertia","react"],n):n((e=e||self).InertiaReact={},e.Inertia,e.React)}(this,function(e,n,r){function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var o=r.createContext();function i(e){var i=e.children,a=e.initialPage,s=e.resolveComponent,u=e.resolveErrors,c=e.transformProps,l=r.useState({component:null,page:{},key:null}),f=l[0],p=l[1];if(r.useEffect(function(){n.Inertia.init({initialPage:a,resolveComponent:s,resolveErrors:u,transformProps:c,swapComponent:function(e){var n=e.component,r=e.page,t=e.preserveState;try{return p(function(e){return{component:n,page:r,key:t?e.key:Date.now()}}),Promise.resolve()}catch(e){return Promise.reject(e)}}})},[a,s,u,c]),!f.component)return r.createElement(o.Provider,{value:f.page},null);var d=i||function(e){var n=e.Component,o=r.createElement(n,t({key:e.key},e.props));return"function"==typeof n.layout?n.layout(o):Array.isArray(n.layout)?n.layout.concat(o).reverse().reduce(function(e,n){return r.createElement(n,{children:e})}):o};return r.createElement(o.Provider,{value:f.page},d({Component:f.component,key:f.key,props:f.page.props}))}o.displayName="InertiaPageContext",i.displayName="Inertia";var a=function(){},s=r.forwardRef(function(e,o){var i=e.children,s=e.as,u=void 0===s?"a":s,c=e.data,l=void 0===c?{}:c,f=e.href,p=e.method,d=void 0===p?"get":p,v=e.preserveScroll,m=void 0!==v&&v,h=e.preserveState,g=void 0===h?null:h,y=e.replace,S=void 0!==y&&y,k=e.only,C=void 0===k?[]:k,b=e.headers,P=void 0===b?{}:b,E=e.onClick,I=void 0===E?a:E,w=e.onCancelToken,T=void 0===w?a:w,j=e.onBefore,O=void 0===j?a:j,x=e.onStart,F=void 0===x?a:x,L=e.onProgress,R=void 0===L?a:L,B=e.onFinish,A=void 0===B?a:B,D=e.onCancel,N=void 0===D?a:D,U=e.onSuccess,q=void 0===U?a:U,H=e.onError,Q=void 0===H?a:H,W=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n.indexOf(r=i[t])>=0||(o[r]=e[r]);return o}(e,["children","as","data","href","method","preserveScroll","preserveState","replace","only","headers","onClick","onCancelToken","onBefore","onStart","onProgress","onFinish","onCancel","onSuccess","onError"]),z=r.useCallback(function(e){I(e),n.shouldIntercept(e)&&(e.preventDefault(),n.Inertia.visit(f,{data:l,method:d,preserveScroll:m,preserveState:null!=g?g:"get"!==d,replace:S,only:C,headers:P,onCancelToken:T,onBefore:O,onStart:F,onProgress:R,onFinish:A,onCancel:N,onSuccess:q,onError:Q}))},[l,f,d,m,g,S,C,P,I,T,O,F,R,A,N,q,Q]);u=u.toLowerCase(),d=d.toLowerCase();var G=n.mergeDataIntoQueryString(d,n.hrefToUrl(f),l);return f=G[0].href,l=G[1],"a"===u&&"get"!==d&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<InertiaLink href="'+f+'" method="'+d+'" as="button">...</InertiaLink>'),r.createElement(u,t({},W,"a"===u?{href:f}:{},{ref:o,onClick:z}),i)});function u(e,t){var o=r.useState(function(){var r=n.Inertia.restore(t);return void 0!==r?r:e}),i=o[0],a=o[1];return r.useEffect(function(){n.Inertia.remember(i,t)},[i,t]),[i,a]}e.App=i,e.InertiaApp=i,e.InertiaLink=s,e.Link=s,e.app=i,e.link=s,e.useForm=function(e,o){var i=function(e){return e},a=r.useRef(null),s=u(e,o+"-data"),c=s[0],l=s[1],f=u({},o+"-errors"),p=f[0],d=f[1],v=r.useState(!1),m=v[0],h=v[1],g=r.useState(!1),y=g[0],S=g[1],k=r.useState(null),C=k[0],b=k[1],P=r.useState(!1),E=P[0],I=P[1],w=r.useState(!1),T=w[0],j=w[1],O=r.useCallback(function(e,r,o){void 0===o&&(o={});var s=t({},o,{onBefore:function(e){if(I(!1),j(!1),clearTimeout(a.current),o.onBefore)return o.onBefore(e)},onStart:function(e){if(S(!0),o.onStart)return o.onStart(e)},onProgress:function(e){if(b(e),o.onProgress)return o.onProgress(e)},onSuccess:function(e){if(d({}),h(!1),I(!0),j(!0),a.current=setTimeout(function(){return j(!1)},2e3),o.onSuccess)return o.onSuccess(e)},onError:function(e){if(d(e),h(!0),o.onError)return o.onError(e)},onFinish:function(){if(S(!1),b(null),o.onFinish)return o.onFinish()}});"delete"===e?n.Inertia.delete(r,t({},s,{data:i(c)})):n.Inertia[e](r,i(c),s)},[c,d]);return{data:c,setData:function(e,n){var r;l("string"==typeof e?t({},c,((r={})[e]=n,r)):"function"==typeof e?function(n){return e(n)}:e)},errors:p,hasErrors:m,processing:y,progress:C,wasSuccessful:E,recentlySuccessful:T,transform:function(e){i=e},reset:function(){var n=[].slice.call(arguments);l(0===n.length?e:Object.keys(e).filter(function(e){return n.includes(e)}).reduce(function(n,r){return n[r]=e[r],n},{}))},clearErrors:function(){var e=[].slice.call(arguments);d(Object.keys(p).reduce(function(n,r){var o;return t({},n,e.length>0&&!e.includes(r)?((o={})[r]=p[r],o):{})},{})),h(Object.keys(p).length>0)},submit:O,get:function(e,n){O("get",e,n)},post:function(e,n){O("post",e,n)},put:function(e,n){O("put",e,n)},patch:function(e,n){O("patch",e,n)},delete:function(e,n){O("delete",e,n)}}},e.usePage=function(){var e=r.useContext(o);if(!e)throw new Error("usePage must be used within the Inertia component");return e},e.useRemember=u,e.useRememberedState=function(e,n){return console.warn('The "useRememberedState" hook has been deprecated and will be removed in a future release. Use "useRemember" instead.'),u(e,n)}});
//# sourceMappingURL=index.umd.js.map
